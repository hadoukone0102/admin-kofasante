    <app-toggle-header></app-toggle-header>
    <app-sidebar></app-sidebar>
    <main class="content">
        <app-header></app-header>
        <app-page-title
            theModule="Administrateurs"
            theTitle="Ajouter un administrateur"
            theContent="Ajoutez un nouvel administrateur">
        </app-page-title>
        <!-- Content -->
        <div class="card card-body border-0 shadow mb-4">
            <h2 class="h5 mb-4"></h2>
            <form (ngSubmit)="onSubmit()" #addAdmin="ngForm">
                <div class="row">
                    <div class="col-12 mb-3">
                        <div>
                            <label for="firstName">Nom</label>
                            <input class="form-control" id="firstName" name="firstName" type="text" placeholder="Entrez votre nom" 
                            pattern="^[a-zA-Z0-9àéèç ]{1,50}$"
                            [(ngModel)]="admin.nomAdmin"
                            #theFirstName="ngModel"
                            required>
                        </div>
                        <div *ngIf="theFirstName.touched && theFirstName.invalid">
                            <small class="text-danger">Entrez un nom</small>
                        </div>
                        <div class="text-danger"
                        [hidden]="theFirstName.valid || theFirstName.pristine">
                            Entrez des lettres et des chiffres uniquement
                        </div> 
                    </div>
                    <div class="col-12 mb-3">
                        <div>
                            <label for="lastName">Prénom</label>
                            <input class="form-control" id="lastName" name="lastName" type="text" placeholder="Entrez votre prénom" 
                            pattern="^[a-zA-Z0-9àéèç ]{1,50}$"
                            [(ngModel)]="admin.prenomAdmin"
                            #theLastName="ngModel"
                            required="">
                        </div>
                        <div *ngIf="theLastName.touched && theLastName.invalid">
                            <small class="text-danger">Entrez un prénom</small>
                        </div>
                        <div class="text-danger"
                        [hidden]="theLastName.valid || theLastName.pristine">
                            Entrez des lettres et des chiffres uniquement
                        </div> 
                    </div>
                    <div class="col-sm-4 mb-4">
                        <label for="role">Indicatif</label>
                        <select  class="form-select w-100 mb-0" id="role" 
                            name="state" aria-label="State select example"
                            
                            #theCountryCode
                            (click) = "onClickContryCode(theCountryCode.value)"
                        >
                             <!-- <option value='+225' selected>+25a5</option> -->
                             <option *ngFor="let country of countries.pays"  value="{{country.ITU_T_Telephone_Code}}" [selected]="country.ITU_T_Telephone_Code === '+225'">
                                {{country.ITU_T_Telephone_Code}}
                              </option>
                            
                        </select>
                    </div>
                    <div class="col-sm-8 mb-3">
                        <div>
                            <label for="contact">Contact</label>
                            <input class="form-control" id="contact" name="contact" type="text" placeholder="Entrez votre numéros mobile" 
                            pattern="^[0-9]+$"
                            [(ngModel)]="contact"
                            #theContact="ngModel"
                            (keyup)="onClickContact()"
                            onkeypress="return event.charCode >= 48 && event.charCode<= 57"
                            required="">
                        </div>
                        <div *ngIf="theContact.touched && theContact.invalid">
                            <small class="text-danger">Le champ contact est requis</small>
                        </div>
                        <div *ngIf="contactExists">
                            <small class="text-danger">Ce numéros existe déjà!</small>
                        </div>
                        <div class="text-danger"
                            [hidden]="theContact.valid || theContact.pristine">
                            <small>Entrez des chiffres</small> 
                        </div> 
                    </div>
                    <div class="col-12 mb-3">
                        <div>
                            <label for="password">Mot de passe</label>
                            <input class="form-control" id="password"  name="password" type="password" placeholder="Entrez votre mot de passe" 
                            pattern="^.{5,}$"
                            [(ngModel)]="admin.mdpAdmin"
                            #thePassword="ngModel"
                            (keyup)="onClickConfirmPassword()"
                            required="">
                        </div>
                        <div *ngIf="thePassword.touched && thePassword.invalid">
                            <small class="text-danger">Entrez un mot de passe</small>
                        </div>
                        <div class="text-danger"
                        [hidden]="thePassword.valid || thePassword.pristine">
                            Entrez au moins 5 caractère
                        </div> 
                    </div>
                    <div class="col-12 mb-3">
                        <div>
                            <label for="confirmPassword">Confirmez le mot de passe</label>
                            <input class="form-control" id="confirmPassword" name="confirmPassword" type="password" placeholder="Confirmez votre mot de passe" 
                            pattern="^.{5,}$"
                            [(ngModel)]="confirmPassword"
                            #theConfirmPassword="ngModel"
                            (keyup)="onClickConfirmPassword()"
                            required="">
                        </div>
                        
                        <div *ngIf="!pwdIsConfirmed" class="text-danger">
                            Les deux mots de passe ne correspondent pas
                        </div> 
                    </div>
                    <div class="col-12 mb-3">
                        <label for="role">Rôle</label>
                        <select [(ngModel)]="admin.id_typeadmin" class="form-select w-100 mb-0" id="role" name="state" aria-label="State select example">
                            <!-- <option selected="">Sélectionnez le rôle de l'administrateur</option> -->
                            <option value="1" selected>Curé</option>
                            <option value="2">Responsable de catéchèse</option>
                            <option value="3">Responsable de niveau</option>
                            <option value="4">Sécrétaire</option>
                        </select>
                    </div>
                </div>
        
                <div class="mt-3">
                    <button class="btn btn-gray-800 mt-2 animate-up-2" type="submit"
                         [disabled]="!theFirstName.valid || !theLastName.valid || !theContact.valid || !thePassword.valid || !pwdIsConfirmed || contactExists"
                        >Ajouter</button>
                    <!-- <button class="btn btn-gray-800 mt-2 animate-up-2" type="submit"
                        [hidden]="theFirstName.valid || theLastName.valid || theContact.valid || thePassword.valid || admin.mdpAdmin != confirmPassword"
                        >Ajouter</button> -->
                </div>
            </form>
        </div>
        <!-- End content -->

        <app-footer></app-footer>
    </main>