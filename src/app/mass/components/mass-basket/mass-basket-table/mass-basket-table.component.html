<div class="row mb-4">
    
    <div class="row mb-4">
        <div class="mb-2 col-8 col-sm-4 btn-group">
            <button class="btn btn-github d-inline-flex align-items-center" data-bs-toggle="modal" data-bs-target="#modal-form-filter">
                <i class="fa fa-table me-3"></i>
                Filtrer
            </button>
        </div>

        <div class="mb-2 col-8 col-sm-4  btn-group">
            <button (click)="resetFilter()" title="Réinitialiser le le filtre"  class="btn btn-github d-inline-flex align-items-center" >
                <i class="fa fa-broom me-3"></i>
                Réinitialiser
            </button>
        </div>

        <!-- Refresh -->
        <div class="col-8 mb-2 col-sm-4  btn-group">
            <app-refresh [isRefreshing]="isRefreshing"
            (toogleButton) = "handleToogleButtonFromChild($event)"
             ></app-refresh>
        </div>
        <!-- End Refresh -->
    </div>
</div>

<div class="table-resposive">
    <table id="exportTable" class="table-fill table table-centered table-nowrap mb-0 rounded">
        <thead class="thead-light">
            <tr>
                <th class="border-0 rounded-start">N°</th>
                <th class="border-0">Nom</th>
                <th class="border-0">Prenom</th>
                <th class="border-0">Contact</th>
                <th class="border-0">Type de messe</th>
                <th class="border-0">Intention</th>
                <th class="border-0">Date</th>
                <th  class="border-0">Id de transaction</th>
            </tr>
        </thead>
        <tbody *ngFor="let basket of Basket.demande_messe; let i = index" >
            <tr [ngClass]="{'gray-row': basket.isAnonymous===1}">
                <td>{{i+1}}</td>
                <td>{{basket.firstNameMr}}</td>
                <td>{{basket.firstNameMr}}</td>
                <td>{{basket.contactMr}}</td>
                <td>{{basket.labelMt}}</td>
                <td>{{basket.type_demande}}</td>
                <td>
                    <select [ngClass]="{'gray-row': basket.isAnonymous===1}">
                        <option *ngFor="let masse of basket.masses" [value]="masse.masses_days">{{ masse.masses_days }}, {{masse.name_masses_days}}, {{masse.masses_times}}</option>
                    </select>
                </td>
                <td>{{basket.transaction_id}}</td>
            </tr>
        </tbody>
    </table>
</div>

<div >
    <div *ngIf=" Basket.last_page != 0 && Basket.last_page != undefined && Basket.last_page != -1" class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">
        <p>
            Affichage de {{Basket.current_page}}/{{Basket.last_page}} pages
        </p>
        <nav  aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item {{isFirstPage}}">
                <a (click)="goToPrevious()" class="page-link" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                </li>
                <li class="page-item"><a class="page-link">{{Basket.current_page}}</a></li>
                <li  class="page-item {{isLastPage}}">
                <a (click)="goToNext()" class="page-link"  aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- <h4 *ngIf="admins.administrateurs.length === 0" class="text-center mt-2">Aucune donnée dans la table</h4> -->
</div>

<!--Component for modal pup-up-->
<app-mass-modal-filter
    [searchBarValue]="searchBarValue"
    [dateStartValue]="dateStartValue"
    [dateEndValue]="dateEndValue"
    (dataFilterToParent) = "handleDataFilterFromChild($event)"
></app-mass-modal-filter>